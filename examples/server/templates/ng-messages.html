{% extends "model-scope.html" %}
{% load tutorial_tags %}

{% block form_title %}Angular-Messages Demo{% endblock %}

{% block form_header %}Adds support for form field error lists to be rendered to use the ngMessages directive.<br/>Requires AngularJS 1.3+.{% endblock %}


{% block form_tag %}name="{{ form.form_name }}" method="post" action="." novalidate ng-controller="MyFormCtrl"{% endblock %}

{% block form_submission %}
	<p>
		<button type="submit" class="btn btn-primary" ng-disabled="{{ form.form_name }}.$invalid">Submit via Post</button><span>&nbsp;</span>
		<button type="button" class="btn btn-primary" ng-disabled="{{ form.form_name }}.$invalid" ng-click="submit()">Submit via Ajax</button>
	</p>
	<p><small>Test submission of invalid Form data:</small><br/>
		<button type="submit" class="btn btn-warning btn-xs">Force Submission via Post</button>&nbsp;
		<button type="button"  ng-click="submit()" class="btn btn-warning btn-xs">Force Submission via Ajax</button>
	</p>
{% endblock %}

{% block tutorial_intro %}
<p ng-init="tabList=['Form', 'View', 'HTML', 'JavaScript']" class="lead">In this example,
Form field error display and management is handled by the ngMessages directive.</p>
<p>If a Form inherits from <code>NgMessagesMixin</code> then each field error list is rendered
in the correct format for the <a href="https://docs.angularjs.org/api/ngMessages/directive/ngMessages">ng-messages</a> module directive.</p>

{% endblock tutorial_intro %}

{% block tutorial_code %}
<div ng-show="activeTab==='Form'">{% pygments "forms/ng_messages.py" %}</div>
<div ng-show="activeTab==='View'">{% pygments "views/ng_messages.py" %}</div>
<div ng-show="activeTab==='HTML'">{% pygments "tutorial/ng-messages.html" %}</div>
<div ng-show="activeTab==='JavaScript'">{% pygments "static/js/ng-messages.js" %}</div>
<p class="bg-info">Use this mixin if you want your field error lists to be managed by the ng-messages directive.<br/>
<strong>Note: </strong>An advantage over the standard field error list handling/display, is up to a 30% reduction in watchers.</p>
{% endblock tutorial_code %}

{% block angular_version %}1.3.0{% endblock %}

{% block scripts %}
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-messages.min.js" type="text/javascript"></script>
	{{ block.super }}
	<script src="{{ STATIC_URL }}js/ng-django-angular-messages.js" type="text/javascript"></script>
{% endblock scripts %}

{% block ng_module_dependencies %}['ng.django.forms', 'ng.django.angular.messages', 'ngMessages']{% endblock %}

{% block demo_scripts %}
	{{ block.super }}
	<script src="{{ STATIC_URL }}js/ng-messages.js" type="text/javascript"></script>
{% endblock %}
